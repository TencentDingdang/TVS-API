

[TOC]
# 一. 接入前置条件

## 1.1 硬件要求
无

## 1.2  软件要求

无

## 1.3 平台要求

无


# 二. 功能介绍

接入本功能，首先需要与TVS建立下行通道并维持活跃。Push指令通过下行通道下发。

本功能一般用于以下几个场景：

- 手机端解绑，设备端接受手机端解绑的消息
- 多端互动时，手机探测设备的在线状态。
- 多端互动时，手机端发送自定义消息到设备。
- 其他自定义的Push消息。

目前本功能仅用于云小微通用业务，暂未对外部开放自定义Push能力。

# 三. 功能流程

以手机端解绑为例

1. 手机端解除与设备的绑定
2. 解除绑定的请求发送给云小微后台。
3. 云小微后台查找被解绑的设备。
4. 云小微后台通过TvsPushInterfce.TransparentMessage指令通知设备。
5. 设备接受到Push消息后，进行退出账号的逻辑。

# 四. 接入方法

## 4.1 基本功能接入

### 实现事件上报
实现[本文档](protocal/TvsPushInterface.md)中所有事件的上报。

### 实现指令执行

实现[本文档](protocal/TvsPushInterface.md)中所有指令的执行。




# 五. 验证用例

# 六. 常见问题

- 手机解绑时，Push无法收到

  可以自查

  1. 是否建立了下行通道，并且下行通道是活跃的
  2. 手机是否与设备绑定过
  3. 手机解绑请求时，是否正确填写了设备的信息。







